--- a/src/vs/code/node/cli.ts
+++ b/src/vs/code/node/cli.ts
@@ -45,7 +45,7 @@
 	let args: NativeParsedArgs;
 
 	try {
-		args = parseCLIProcessArgv(argv);
+		args = parseCLIProcessArgv(argv.slice(Math.max(0, argv.findIndex(a => a.endsWith('/code.js')) - 1)));
 	} catch (err) {
 		console.error(err.message);
 		return;
--- a/src/vs/platform/native/electron-main/nativeHostMainService.ts
+++ b/src/vs/platform/native/electron-main/nativeHostMainService.ts
@@ -12,7 +12,7 @@
 import { Disposable } from 'vs/base/common/lifecycle';
 import { Schemas } from 'vs/base/common/network';
 import { dirname, join, resolve } from 'vs/base/common/path';
-import { isLinux, isMacintosh, isWindows } from 'vs/base/common/platform';
+import { isMacintosh, isWindows } from 'vs/base/common/platform';
 import { AddFirstParameterToFunctions } from 'vs/base/common/types';
 import { URI } from 'vs/base/common/uri';
 import { realpath } from 'vs/base/node/extpath';
@@ -498,31 +498,7 @@
 
 	@memoize
 	private get cliPath(): string {
-
-		// Windows
-		if (isWindows) {
-			if (this.environmentMainService.isBuilt) {
-				return join(dirname(process.execPath), 'bin', `${this.productService.applicationName}.cmd`);
-			}
-
-			return join(this.environmentMainService.appRoot, 'scripts', 'code-cli.bat');
-		}
-
-		// Linux
-		if (isLinux) {
-			if (this.environmentMainService.isBuilt) {
-				return join(dirname(process.execPath), 'bin', `${this.productService.applicationName}`);
-			}
-
-			return join(this.environmentMainService.appRoot, 'scripts', 'code-cli.sh');
-		}
-
-		// macOS
-		if (this.environmentMainService.isBuilt) {
-			return join(this.environmentMainService.appRoot, 'bin', 'code');
-		}
-
-		return join(this.environmentMainService.appRoot, 'scripts', 'code-cli.sh');
+		return '/usr/bin/code';
 	}
 
 	async getOSStatistics(): Promise<IOSStatistics> {
